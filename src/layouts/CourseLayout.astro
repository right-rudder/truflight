---
import { FaDotCircle } from "react-icons/fa";
import { IoMdAirplane } from "react-icons/io";
import ImageComp from "../components/ImageComp.astro";

const { data } = Astro.props;
---

<section class="mx-auto my-24 max-w-2xl lg:max-w-6xl">
  <div class="mb-10 px-5">
    <ImageComp
      src={data.secondaryImage}
      alt={data.secondaryAlt}
      classes="aspect-video h-[25rem] object-cover w-full rounded-xl"
    />
  </div>
  <div class="mx-auto flex max-w-7xl flex-col-reverse gap-20 px-5 lg:flex-row">
    <div class="flex flex-[2_2_0] flex-col gap-5">
      <div class="mt-5 flex flex-col gap-5">
        <h2
          class="text-main-black max-w-lg text-4xl font-bold tracking-wide text-pretty sm:text-5xl"
        >
          {data.title}
        </h2>
        <h3 class="text-2xl font-semibold tracking-wide text-blue-800 italic">
          About the program
        </h3>
        {
          data.description.map((description: string) => (
            <p
              class="font-light tracking-wider lg:text-lg"
              set:html={description}
            />
          ))
        }
        {
          data.programs &&
            data.programs.map(
              (program: { title: string; description: string }) => (
                <p class="text-gray-600 lg:text-lg">
                  <span class="text-main-black font-semibold">
                    {program.title}:{" "}
                  </span>
                  {program.description}
                </p>
              ),
            )
        }
      </div>

      {
        data.steps && (
          <div>
            <h3 class="text-3xl">
              What key steps will you take to complete the program?
            </h3>
            <ul class="mt-5 flex flex-col gap-7">
              {data.steps.map(
                (
                  step: { icon: any; title: string; description: string },
                  index: number,
                ) => (
                  <li class="flex gap-5">
                    <div class="h-fit w-fit bg-blue-700 p-2 text-white">
                      <step.icon />
                    </div>
                    <div class="flex-flex-col">
                      <div>
                        <p class="text-xs/5 font-semibold tracking-widest text-blue-700 uppercase">
                          Step {index + 1}
                        </p>
                        <p
                          class="text-main-black max-w-lg text-2xl font-semibold tracking-tight text-pretty"
                          set:html={step.title}
                        />
                        <p
                          class="text-sm font-light tracking-wider lg:text-base"
                          set:html={step.description}
                        />
                      </div>
                    </div>
                  </li>
                ),
              )}
            </ul>
          </div>
        )
      }
    </div>

    <aside class="mx-auto flex max-w-xl flex-1 flex-col gap-10">
      <div class="bg-dark-gray flex flex-col gap-5 rounded-lg p-10 text-white">
        <h4 class="text-3xl">Requirements</h4>
        <hr />
        <ul class="my-3 flex flex-col gap-2">
          {
            data.prerequisites.map((step: string) => (
              <li class="flex gap-2">
                <FaDotCircle className="text-white size-3 shrink-0 mt-[6px]" />
                <div set:html={step} />
              </li>
            ))
          }
        </ul>
        <a
          href="/enrollment-form"
          class="btn-secondary hover:border-primary-500! border-white! text-white!"
          >Sign Up</a
        >
      </div>

      <div class="border-main-blue flex flex-col gap-5 border bg-white p-10">
        <div class="w-fit rounded-full bg-blue-700 p-3">
          <IoMdAirplane className="size-10 text-white" />
        </div>
        <h4 class="text-3xl">Discovery Flight</h4>
        <hr />
        <p class="text-sm font-light tracking-wider lg:text-base">
          If you are not sure about starting the program, you can schedule a
          discovery flight with us.
        </p>
        <a href="/discovery-flight" class="btn-primary w-full" target="_blank"
          >Schedule Now</a
        >
      </div>
    </aside>
  </div>
</section>
