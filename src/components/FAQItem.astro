---
import { IoChevronDown } from "react-icons/io5";

interface FAQItemProps {
  question: string;
  answer: string;
  isOpen?: boolean;
  onToggle?: () => void;
}

const { question, answer, isOpen = false, onToggle } = Astro.props;
---

<div class="border-b border-gray-200 last:border-b-0">
  <button
    class="flex w-full items-center justify-between rounded-lg px-4 py-6 text-left transition-colors hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-inset"
    onclick={onToggle
      ? `this.dispatchEvent(new CustomEvent('toggle-faq', { detail: { question: '${question}' } }))`
      : undefined}
    data-question={question}
  >
    <h3 class="pr-4 text-lg font-semibold text-gray-900">
      {question}
    </h3>
    <IoChevronDown
      className={`h-5 w-5 flex-shrink-0 text-gray-500 transition-transform duration-200 ${isOpen ? "rotate-180" : ""}`}
    />
  </button>

  <div
    class={`overflow-hidden transition-all duration-300 ${isOpen ? "max-h-96 pb-6" : "max-h-0"}`}
  >
    <div
      class="prose prose-sm max-w-none px-4 text-gray-700"
      set:html={answer}
    />
  </div>
</div>
